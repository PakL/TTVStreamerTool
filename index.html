<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>TTVStreamerTool</title>

		<link rel="stylesheet" type="text/css" href="res/style.css" />
	</head>
	<body>
		<div id="contents">
			<div id="content_cockpit">
				<table id="cockpit_table">
					<tbody>
						<tr>
							<td colspan="2" id="channel_status_column">
								<input type="text" id="channel_status" placeholder="Stream Status">
								<input type="text" id="channel_game" placeholder="Stream Spiel">
							</td>
							<td colspan="2">
							</td>
						</tr>
						<tr>
							<td id="chat_column" colspan="2"><chat id="channelchat"></chat></td>
							<td id="chat_users_column" rowspan="2"><userlist id="channeluser"></userlist></td>
							<td id="cockpit_action_stream" rowspan="2"></td>
						</tr>
						<tr>
							<td id="chat_message_column">
								<input type="text" id="chat_message" placeholder="Nachricht schreiben...">
							</td>
							<td>
								☺
							</td>
						</tr>
					</tbody>
				</table>
			</div>

			<div id="content_follows">
				<channellist id="myfollows"></channellist>
			</div>
		</div>

		<modal id="logindialog">
			<h3>Willkommen beim TTVStreamerTool</h3>
			Um mit diesem Programm überhaupt irgendetwas anzufangen brauchst du natürlich einen Twitch-Kanal. Mit diesem kannst du dich dann hier anmelden.<br>
			Dann kann dieses Programm überhaupt erst etwas machen.
			<div style="text-align:center;margin-top:10px;">
				<button id="starttwitchauth" onclick="auth()">Einloggen via Twitch</button>
			</div>
		</modal>

		<script type="riot/tag" src="res/tags/message.tag"></script>
		<script type="riot/tag" src="res/tags/chat.tag"></script>
		<script type="riot/tag" src="res/tags/userlist.tag"></script>
		<script type="riot/tag" src="res/tags/modal.tag"></script>
		<script type="riot/tag" src="res/tags/channel.tag"></script>
		<script type="riot/tag" src="res/tags/channellist.tag"></script>
		<script type="application/javascript" src="node_modules/riot/riot%2Bcompiler.min.js"></script>


		<script type="application/javascript">
			const TwitchTv = require('./mod/twitchtv')
			const {shell, remote} = require('electron')
			const {Menu, MenuItem} = remote

			let twitchapi = new TwitchTv({
				clientid: '11vhuxdssb9pc3s2uqpa7s3s0252hyk',
				redirecturi: 'http://localhost:8086/',
				scope: [
					'user_read',
					'channel_check_subscription',
					'channel_editor',
					'channel_read',
					'channel_stream',
					'channel_subscriptions',
					'chat_login'
				]
			})
			let twitchchat = null

			let openLinkExternal = function(url) {
				shell.openExternal(url)
			}
		</script>
		<script type="application/javascript" src="lib/menu.js"></script>
		<script type="application/javascript" src="lib/errormsg.js"></script>
		<script type="application/javascript" src="lib/loading.js"></script>
		<script type="application/javascript" src="lib/chathelper.js"></script>
		<script type="application/javascript" src="lib/chat.js"></script>
		<script type="application/javascript" src="lib/cockpit.js"></script>
		<script type="application/javascript" src="lib/follows.js"></script>
		<script type="application/javascript" src="lib/auth.js"></script>
	</body>
</html>